{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/pixabayApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","pixabayApi","fetchApi","inputText","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","images","loading","useState","setInputText","className","s","event","preventDefault","trim","toast","info","length","SearchForm","type","SearchFormButton","SearchFormLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","name","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItem_image","ImageGallery","imageGallery","map","ComponentLoader","color","height","width","timeout","Button","handleLoadMore","Modal","Overlay","App","setLoading","error","setError","setPage","setImages","showModal","setShowModal","setLargeImageURL","useEffect","data","hits","catch","message","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","addEventListener","keyCode","toggleModal","prevState","autoClose","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.daf28946.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__IqgJy\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__zyUIa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AFek\",\"Modal\":\"Modal_Modal__bSOUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Jq2RC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1P09s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3wn9a\",\"SearchForm\":\"Searchbar_SearchForm__mOCjS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__22ueh\",\"SearchFormLabel\":\"Searchbar_SearchFormLabel__hVgH6\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sLwb\"};","function fetchApi(inputText = \"котики\", page = 1) {\n  return fetch(\n    `https://pixabay.com/api/?key=22345544-d7e856a59bd0b8410f42b3802&q=${inputText}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Не найдено изображения с названием ${inputText}`)\n    );\n  });\n}\n\nconst pixabayApi = { fetchApi };\n\nexport default pixabayApi;\n","import React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit, images, loading }) {\n  const [inputText, setInputText] = useState(\"\");\n\n  const handleNameChange = (event) => {\n    setInputText(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (inputText.trim() === \"\") {\n      return toast.info(\"Введите название в строке поиска!\");\n    }\n    onSubmit(inputText);\n    setInputText(\"\");\n\n    if (images.length === 0 && !loading) {\n      return toast.info(\"Картинок с таким названием не найдено!\");\n    }\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={inputText}\n          onChange={handleNameChange}\n          name=\"inputText\"\n        />\n      </form>\n    </header>\n  );\n}\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClick,\n}) {\n  return (\n    <li\n      key={id}\n      className={s.ImageGalleryItem}\n      onClick={() => onClick(largeImageURL)}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItem_image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  ondeleteContact: PropTypes.func,\n  contacts: PropTypes.array,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGallery({ images, onClick }) {\n  // console.log(images)\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func,\n  images: PropTypes.array,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function ComponentLoader() {\n  return (\n    <div>\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={10000}\n      />\n      Loading...\n    </div>\n  );\n}\n","import s from \"./Button.module.css\";\n\nexport default function Button({ handleLoadMore }) {\n  return (\n    <button className={s.Button} onClick={handleLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import s from \"./Modal.module.css\";\n\nexport default function Modal({ largeImageURL, tags, onClick }) {\n  return (\n    <div className={s.Overlay} onClick={onClick}>\n      <div className={s.Modal}>\n        <img src={largeImageURL} alt={tags} />\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"./App.css\";\nimport pixabayApi from \"./services/pixabayApi\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ComponentLoader from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default function App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState();\n\n  useEffect(() => {\n    setLoading(true);\n    pixabayApi\n      .fetchApi()\n      .then((data) => setImages(data.hits))\n      .catch((error) => setError(error.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  useEffect(() => {\n    // console.log(\"Рендер\");\n    if (!inputText) {\n      // console.log(\"Инпут пустой, не фетчим\");\n      return;\n    }\n    setLoading(true);\n    setPage(1);\n    setImages([]);\n\n    pixabayApi\n      .fetchApi(inputText)\n      .then((data) => {\n        setImages(data.hits);\n      })\n      .catch((error) => setError(error.message))\n      .finally(() => {\n        setLoading(false);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  }, [inputText]);\n\n  const handleLoadMore = () => {\n    setLoading(true);\n    pixabayApi\n      .fetchApi(inputText, page + 1)\n      .then((data) => {\n        setImages((prevState) => [...prevState, ...data.hits]);\n        setPage((prevState) => prevState + 1);\n      })\n      .catch((error) => setError(error.message))\n      .finally(() => {\n        setLoading(false);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n          // document.addEventListener(\"keydown\", escFunction)\n        });\n      });\n  };\n\n  useEffect(() => {\n    const escFunction = (event) => {\n      if (event.keyCode === 27) {\n        // console.log('You pressed a \"enter\" key in textbox');\n        setShowModal(!showModal);\n      }\n    };\n    window.addEventListener(\"keydown\", escFunction);\n  }, [showModal]);\n\n  const toggleModal = (largeImageURL) => {\n    setShowModal(!showModal);\n    setLargeImageURL(largeImageURL);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={setInputText} images={images} loading={loading} />\n      {error && <h1>{error.message}</h1>}\n      {loading && <ComponentLoader />}\n      {images && <ImageGallery images={images} onClick={toggleModal} />}\n      {images.length > 0 && <Button handleLoadMore={handleLoadMore} />}\n\n      {showModal && (\n        <Modal onClick={toggleModal} largeImageURL={largeImageURL} />\n      )}\n      <ToastContainer autoClose={3000} position=\"top-center\" />\n    </div>\n  );\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}